(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{2370:function(e,t,r){"use strict";r.r(t);r(14),r(10),r(9),r(8),r(13),r(1210),r(28);var n=r(16),c=r(0),o=r(2),l=r(1),d=r(11),f=r.n(d);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w={name:"ScreenRedirect",components:{SearchRedirect:r(1676).a},data:function(){return{link:null,data:null}},computed:O({},Object(o.c)({domen:"main/domen"}),{agency:function(){return JSON.parse(localStorage.getItem("agency"))},isBrowser:function(){return!0}}),mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,c,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.$route.params.id,c=e.$route.params.url,o="".concat(e.domen,"/generate/link?searchId=").concat(r,"&url=").concat(c),f.a.get(o).then(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.data=r.data,e.click_id=r.data.click_id,e.gate_id=r.data.gate_id,(n=r.data.url).indexOf("www.ryanair.com"),e.link=n;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.link="http://www.aviasales.ru/?expire_click"}));case 4:case"end":return t.stop()}}),t)})))()},methods:O({},Object(o.d)({saveActiveModalName:"main/".concat(l.SAVE_ACTIVE_MODAL_NAME)}),{submit:function(){document.getElementById("redirect_params_form").submit()}})},h=r(3),component=Object(h.a)(w,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"screen-redirect"},[t("client-only",[this.isBrowser?t("SearchRedirect",{attrs:{agency:this.agency,link:this.link,data:this.data}}):this._e()],1)],1)}),[],!1,null,"04caf5f6",null);t.default=component.exports}}]);